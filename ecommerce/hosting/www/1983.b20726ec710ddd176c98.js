(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[1983],{1983:(t,n,o)=>{"use strict";o.r(n),o.d(n,{ViewproductsPageModule:()=>M});var e=o(8583),r=o(665),i=o(5214),c=o(6476),a=o(3018),d=o(8002),u=o(6738),s=o(1841),g=o(7810),l=o(1562);const p=["productbtn"],h=function(){return{category:"Milktea"}},m=function(){return{category:"Fruit tea"}},b=function(){return{category:"Slushee"}};function f(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"div",10,11),a.NdJ("mouseleave",function(){return a.CHM(t),a.oxw().dropdown=!1}),a.TgZ(2,"ion-item",12),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(3," All "),a.qZA(),a.TgZ(4,"ion-item",13),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(5," Milktea "),a.qZA(),a.TgZ(6,"ion-item",13),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(7," Fruit Tea "),a.qZA(),a.TgZ(8,"ion-item",13),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(9," Slushee "),a.qZA(),a.qZA()}2&t&&(a.xp6(4),a.Q6J("queryParams",a.DdM(3,h)),a.xp6(2),a.Q6J("queryParams",a.DdM(4,m)),a.xp6(2),a.Q6J("queryParams",a.DdM(5,b)))}function P(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"ion-item",14),a.TgZ(1,"ion-thumbnail",1),a._UZ(2,"img",15),a.qZA(),a.TgZ(3,"ion-label",16),a.TgZ(4,"h2",16),a._uU(5),a.TgZ(6,"span",17),a._uU(7),a.ALo(8,"currency"),a.qZA(),a.qZA(),a._UZ(9,"h3",16),a.TgZ(10,"p",18),a._uU(11),a.qZA(),a.TgZ(12,"div",19),a.TgZ(13,"span",20),a.TgZ(14,"button",21),a.NdJ("click",function(){const n=a.CHM(t).$implicit;return a.oxw().DeleteProduct(n)}),a._uU(15," Delete"),a.qZA(),a.qZA(),a.TgZ(16,"span",20),a.TgZ(17,"button",22),a.NdJ("click",function(){const n=a.CHM(t).$implicit;return a.oxw().EditProduct(n)}),a._uU(18," Edit"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=n.$implicit;a.xp6(2),a.s9C("src",t.ImageUrl,a.LSH),a.xp6(3),a.hij("",t.ProductName," "),a.xp6(2),a.hij(" ",a.xi3(8,4,t.UnitPrice,"\u20b1"),""),a.xp6(4),a.hij(" ",t.Stock," remaining stock")}}const C=[{path:"",component:(()=>{class t{constructor(t,n,o,e,r,i,c){this.http=t,this.loadingCtrl=n,this.alertCtrl=o,this.afstore=e,this.afauth=r,this.router=i,this.actRoute=c,this.products=[],this.dropdown=!1,this.afauth.authState.subscribe(t=>{t&&t.uid&&this.actRoute.queryParams.subscribe(t=>{this.productReference=null==t.category?this.afstore.collection("Products"):this.afstore.collection("Products",n=>n.where("Category","==",t.category)),this.sub=this.productReference.snapshotChanges().pipe((0,d.U)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.products=t})})})}ngOnInit(){}DeleteProduct(t){this.alertCtrl.create({message:"Are you sure you want to delete this product?",buttons:[{text:"Yes",handler:()=>{var n=u(new Date).format("DD-MM-YYYY hh:mm A");this.afstore.collection("Inventory").add({Quantity:-1*parseInt(t.Stock),Datetime:n,read:!1,Destination:"Admin",ProductName:t.ProductName,UnitPrice:t.UnitPrice,ImageUrl:t.ImageUrl}),this.afstore.doc(`Products/${t.id}`).delete()}},{text:"No",role:"cancel"}]}).then(t=>{t.present()})}EditProduct(t){this.router.navigateByUrl(`/editproduct/${t.id}`)}hideDropdown(t){const n=t.clientX,o=t.clientY,e=this.productbtn.nativeElement.getBoundingClientRect();(n<e.left+2||n>e.right-2||o<e.top+2)&&(this.dropdown=!1)}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(s.eN),a.Y36(i.HT),a.Y36(i.Br),a.Y36(g.ST),a.Y36(l.zQ),a.Y36(c.F0),a.Y36(c.gz))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-viewproducts"]],viewQuery:function(t,n){if(1&t&&a.Gf(p,5,a.SBq),2&t){let t;a.iGM(t=a.CRH())&&(n.productbtn=t.first)}},inputs:{title:"title"},decls:17,vars:3,consts:[[1,"toolbar"],["slot","start"],["slot","end"],["fill","clear","color","dark","routerDirection","root","routerLinkActive","active-item",1,"dropdown-btn",3,"mouseenter","mouseleave"],["productbtn",""],["slot","end",3,"name"],["class","dropdown",3,"mouseleave",4,"ngIf"],[1,"container"],[1,"bg-transparent"],["color","none","lines","none",4,"ngFor","ngForOf"],[1,"dropdown",3,"mouseleave"],["dropdownbox",""],["button","","routerLink","/viewproducts","lines","none","routerDirection","root",3,"click"],["button","","routerLink","/viewproducts","lines","none","routerDirection","root",3,"queryParams","click"],["color","none","lines","none"],[3,"src"],[2,"font-weight","bolder"],[2,"float","right","font-weight","bolder"],[1,"rate",2,"font-weight","bolder"],["id","qty"],[2,"float","right"],["id","btn2",3,"click"],["id","btn",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a._UZ(3,"ion-back-button"),a.qZA(),a.TgZ(4,"ion-buttons",2),a.TgZ(5,"ion-button",3,4),a.NdJ("mouseenter",function(){return n.dropdown=!0})("mouseleave",function(t){return n.hideDropdown(t)}),a._uU(7," Categories "),a._UZ(8,"ion-icon",5),a.qZA(),a.qZA(),a.qZA(),a.YNc(9,f,10,6,"div",6),a.qZA(),a.TgZ(10,"ion-content"),a.TgZ(11,"div",7),a.TgZ(12,"ion-grid"),a.TgZ(13,"ion-row"),a.TgZ(14,"ion-col"),a.TgZ(15,"ion-list",8),a.YNc(16,P,19,7,"ion-item",9),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(8),a.Q6J("name",n.dropdown?"chevron-down":"chevron-up"),a.xp6(1),a.Q6J("ngIf",n.dropdown),a.xp6(7),a.Q6J("ngForOf",n.products))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.YG,c.Od,i.gu,e.O5,i.W2,i.jY,i.Nd,i.wI,i.q_,e.sg,i.Ie,i.YI,c.rH,i.Bs,i.Q$],pipes:[e.H9],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background:#69a03a;color:#fff;font-size:20px;line-height:84px}ion-content[_ngcontent-%COMP%]{--background:url(backgroundimage2.2480a2c01d0396aec9a7.jpg) no-repeat center center/cover;background:linear-gradient(120deg,#2980b9,#8e44ad)}.bg-transparent[_ngcontent-%COMP%]{background:#0000}.container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.container[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]{margin-top:5px}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{font-weight:600;padding:5px;margin-right:20px;cursor:pointer}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-left:20px;font-weight:600;padding:5px;cursor:pointer}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:active{background-color:#69a03a}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:active{background-color:red}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn[_ngcontent-%COMP%]{padding:10px 20px;color:#fff;background-color:#69a03a}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn[_ngcontent-%COMP%]:active{background-color:#051542}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn2[_ngcontent-%COMP%]{padding:10px 20px;color:#fff;background-color:#c31111}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn2[_ngcontent-%COMP%]:active{background-color:#990404}.container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:10px;color:#69a03a}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{display:flex;background:#92949c;padding-left:40px;padding-right:40px}}@media (max-width: 768px){.mobile-header[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{display:none}}.active-item[_ngcontent-%COMP%]{border-bottom:2px solid var(--ion-color-dark)}ion-back-button[_ngcontent-%COMP%]{display:block}"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[e.ez,r.u5,i.Pc,_]]}),t})()}}]);