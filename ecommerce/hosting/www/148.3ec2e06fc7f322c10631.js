(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[148],{148:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AddProductPageModule:()=>F});var r=o(8583),n=o(665),i=o(5214),s=o(6476),a=o(6738),l=o(3018),c=o(1841),m=o(7810);function g(t,e){if(1&t&&l._UZ(0,"img",23),2&t){const t=l.oxw();l.s9C("src",t.photoLink,l.LSH)}}function u(t,e){1&t&&(l.TgZ(0,"ion-text",24),l._uU(1," Product Name shouldn't be empty "),l.qZA())}function d(t,e){if(1&t&&(l.TgZ(0,"ion-text",26),l._uU(1),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.registerForm.controls.firstname.errors.invalidMsg," ")}}function p(t,e){if(1&t&&(l.TgZ(0,"div",25),l.YNc(1,d,2,1,"ion-text",17),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.registerForm.controls.firstname.errors.invalidMsg)}}function h(t,e){1&t&&(l.TgZ(0,"ion-text",26),l._uU(1," Product Name must be minimum 5 characters long "),l.qZA())}function f(t,e){1&t&&(l.TgZ(0,"ion-text",26),l._uU(1," Stock of product shouldn't be empty "),l.qZA())}function Z(t,e){if(1&t&&(l.TgZ(0,"ion-text",26),l._uU(1),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.registerForm.controls.cellphonenumber.errors.invalidMsg," ")}}function w(t,e){if(1&t&&(l.TgZ(0,"div",25),l.YNc(1,Z,2,1,"ion-text",17),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.registerForm.controls.cellphonenumber.errors.invalidMsg)}}function b(t,e){1&t&&(l.TgZ(0,"ion-text",26),l._uU(1," Price of product shouldn't be empty "),l.qZA())}function x(t,e){if(1&t&&(l.TgZ(0,"ion-text",26),l._uU(1),l.qZA()),2&t){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.registerForm.controls.password.errors.invalidMsg," ")}}function P(t,e){if(1&t&&(l.TgZ(0,"div",25),l.YNc(1,x,2,1,"ion-text",17),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.registerForm.controls.password.errors.invalidMsg)}}const v=[{path:"",component:(()=>{class t{constructor(t,e,o,r,n){this.http=t,this.formBuilder=e,this.loadingCtrl=o,this.alertCtrl=r,this.afstore=n,this.withPhoto=!1}ngOnInit(){this.photoLink="https://static.wikia.nocookie.net/otonari-no-tenshi/images/c/c9/No_images_available.jpg/revision/latest?cb=20220104141308",this.registerForm=new n.cw({category:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^([A-Z][a-z]*((\s[A-Za-z])?[a-z]*)*)$/,msg:"Always Starts With Capital Letter"}),this.customPatternValid({pattern:/^([^0-9]*)$/,msg:"Numbers is not allowed"}),n.kI.minLength(5)]),firstname:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^([A-Z][a-z]*((\s[A-Za-z])?[a-z]*)*)$/,msg:"Always Starts With Capital Letter"}),this.customPatternValid({pattern:/^([^0-9]*)$/,msg:"Numbers is not allowed"}),n.kI.minLength(5)]),cellphonenumber:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^[+-]?(?:\d*[1-9]\d*(?:\.\d+)?|0+\.\d*[1-9]\d*)$/,msg:"This format is not allowed"}),this.customPatternValid({pattern:/^([^.?!-]*)$/,msg:"Negative is not allowed"}),this.customPatternValid({pattern:/^([^.?!_]*)$/,msg:"Under Score is not allowed"}),this.customPatternValid({pattern:/^([^.?!=]*)$/,msg:"Equal is not allowed"}),this.customPatternValid({pattern:/^([^.?!+]*)$/,msg:"Plus is not allowed"}),this.customPatternValid({pattern:/^([^.?!.]*)$/,msg:"Period is not allowed"})]),password:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^[+-]?(?:\d*[1-9]\d*(?:\.\d+)?|0+\.\d*[1-9]\d*)$/,msg:"This format is not allowed"}),this.customPatternValid({pattern:/^([^-]*)$/,msg:"Negative is not allowed"}),this.customPatternValid({pattern:/^([^?!_]*)$/,msg:"Under Score is not allowed"}),this.customPatternValid({pattern:/^([^?!=]*)$/,msg:"Equal is not allowed"}),this.customPatternValid({pattern:/^([^?!+]*)$/,msg:"Plus is not allowed"})])})}customPatternValid(t){return console.log("wew",t),e=>e.value&&!e.value.match(t.pattern)?{invalidMsg:t.msg}:null}reset(){console.log("wew",this.myInputVariable.value),this.myInputVariable.value=""}fileChanged(t){const e=t.target.files;console.log("the files",e);const o=new FormData;o.append("file",e[0]),o.append("UPLOADCARE_PUB_KEY","2f6b781d802ebb97d2e3"),this.http.post("https://upload.uploadcare.com/base/",o).subscribe(t=>{var o={events:t};for(var r in o){console.log("wew",o[r].file);for(const t of e)this.photoLink=`https://ucarecdn.com/${o[r].file}/${t.name}`}this.withPhoto=!0})}submit(){0==this.withPhoto?this.alertCtrl.create({message:"Please Choose a Photo",buttons:[{text:"Ok",role:"cancel"}]}).then(t=>{t.present()}):this.loadingCtrl.create({message:"Creating New Product"}).then(t=>{t.present(),this.afstore.collection("Products").add({Category:this.registerForm.value.category,ProductName:this.registerForm.value.firstname,Stock:parseInt(this.registerForm.value.cellphonenumber),UnitPrice:this.registerForm.value.password,ImageUrl:this.photoLink,Quantity:1});var e=a(new Date).format("DD-MM-YYYY hh:mm A");this.afstore.collection("Inventory").add({Quantity:1*parseInt(this.registerForm.value.cellphonenumber),Datetime:e,read:!1,Destination:"Admin",ProductName:this.registerForm.value.firstname,UnitPrice:this.registerForm.value.password,ImageUrl:this.photoLink,DatetimeToSort:new Date}),setTimeout(()=>{t.dismiss(),this.registerForm.reset(),this.photoLink="https://static.wikia.nocookie.net/otonari-no-tenshi/images/c/c9/No_images_available.jpg/revision/latest?cb=20220104141308",this.alertCtrl.create({header:"Officially Created",message:"You created the product successfully",buttons:[{text:"Ok",role:"cancel"}]}).then(t=>{t.present(),this.withPhoto=!1,this.myInputVariable.value=""}).catch(t=>{})},3e3)}).catch(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(c.eN),l.Y36(n.qu),l.Y36(i.HT),l.Y36(i.Br),l.Y36(m.ST))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-add-product"]],viewQuery:function(t,e){if(1&t&&l.Gf(i.pK,5),2&t){let t;l.iGM(t=l.CRH())&&(e.myInputVariable=t.first)}},decls:39,vars:10,consts:[[1,"toolbar"],["slot","start"],["name","pencil"],[1,"ion-padding","ion-text-center"],["class","camera",3,"src",4,"ngIf"],[1,"form"],["type","file","accept","image/*",1,"uploadfile",3,"change"],["inputFile",""],["novalidate","",3,"formGroup","ngSubmit"],["lines","none"],["formControlName","category"],["value","Milktea"],["value","Fruit tea"],["value","Slushee"],["placeholder","Enter product name","formControlName","firstname"],["type","text","color","danger",4,"ngIf"],["class","error",4,"ngIf"],["color","danger",4,"ngIf"],["type","tel","placeholder","Enter Stock","formControlName","cellphonenumber"],["type","tel","placeholder","Enter Price","formControlName","password"],["type","submit","hidden",""],["btn",""],["color","dark","expand","block",3,"disabled","click"],[1,"camera",3,"src"],["type","text","color","danger"],[1,"error"],["color","danger"]],template:function(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-buttons",1),l._UZ(3,"ion-icon",2),l.qZA(),l.TgZ(4,"ion-title"),l._uU(5,"Add Product"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content",3),l.YNc(7,g,1,1,"img",4),l.TgZ(8,"div",5),l.TgZ(9,"ion-input",6,7),l.NdJ("change",function(t){return e.fileChanged(t)}),l.qZA(),l.TgZ(11,"form",8),l.NdJ("ngSubmit",function(){return e.submit()}),l.TgZ(12,"ion-item",9),l.TgZ(13,"ion-label"),l._uU(14,"Category"),l.qZA(),l.TgZ(15,"ion-select",10),l.TgZ(16,"ion-select-option",11),l._uU(17,"Milk Tea"),l.qZA(),l.TgZ(18,"ion-select-option",12),l._uU(19,"Fruit Tea"),l.qZA(),l.TgZ(20,"ion-select-option",13),l._uU(21,"Slushee"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(22,"ion-item",9),l._UZ(23,"ion-input",14),l.qZA(),l.YNc(24,u,2,0,"ion-text",15),l.YNc(25,p,2,1,"div",16),l.YNc(26,h,2,0,"ion-text",17),l.TgZ(27,"ion-item",9),l._UZ(28,"ion-input",18),l.qZA(),l.YNc(29,f,2,0,"ion-text",17),l.YNc(30,w,2,1,"div",16),l.TgZ(31,"ion-item",9),l._UZ(32,"ion-input",19),l.qZA(),l.YNc(33,b,2,0,"ion-text",17),l.YNc(34,P,2,1,"div",16),l._UZ(35,"button",20,21),l.TgZ(37,"ion-button",22),l.NdJ("click",function(){return l.CHM(t),l.MAs(36).click()}),l._uU(38,"Create Product"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}2&t&&(l.xp6(7),l.Q6J("ngIf",""!=e.photoLink),l.xp6(4),l.Q6J("formGroup",e.registerForm),l.xp6(13),l.Q6J("ngIf",e.registerForm.get("firstname").hasError("required")&&e.registerForm.get("firstname").touched),l.xp6(1),l.Q6J("ngIf",!e.registerForm.controls.firstname.valid&&(e.registerForm.controls.firstname.dirty||e.registerForm.controls.firstname.touched)),l.xp6(1),l.Q6J("ngIf",e.registerForm.get("firstname").hasError("minlength")&&e.registerForm.get("firstname").touched),l.xp6(3),l.Q6J("ngIf",e.registerForm.get("cellphonenumber").hasError("required")&&e.registerForm.get("cellphonenumber").touched),l.xp6(1),l.Q6J("ngIf",!e.registerForm.controls.cellphonenumber.valid&&(e.registerForm.controls.cellphonenumber.dirty||e.registerForm.controls.cellphonenumber.touched)),l.xp6(3),l.Q6J("ngIf",e.registerForm.get("password").hasError("required")&&e.registerForm.get("password").touched),l.xp6(1),l.Q6J("ngIf",!e.registerForm.controls.password.valid&&(e.registerForm.controls.password.dirty||e.registerForm.controls.password.touched)),l.xp6(3),l.Q6J("disabled",e.registerForm.invalid))},directives:[i.Gu,i.sr,i.Sm,i.gu,i.wd,i.W2,r.O5,i.pK,i.j9,n._Y,n.JL,n.sg,i.Ie,i.Q$,i.t9,i.QI,n.JJ,n.u,i.n0,i.YG,i.yW],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background:#69a03a;color:#fff;font-size:20px;line-height:84px}.camera[_ngcontent-%COMP%]{width:200px;height:128px;margin:0 auto}.logo[_ngcontent-%COMP%]{margin-top:6%}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{margin-top:-20px}.form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:5px;border:2px solid grey;margin-bottom:10px}ion-button[_ngcontent-%COMP%]{text-transform:none}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.Bz.forChild(v)],s.Bz]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.ez,n.u5,i.Pc,A,n.UX]]}),t})()}}]);