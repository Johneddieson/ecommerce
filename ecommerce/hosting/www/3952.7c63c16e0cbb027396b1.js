(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[3952],{3952:(t,n,e)=>{"use strict";e.r(n),e.d(n,{HomePageModule:()=>O});var o=e(8583),i=e(665),r=e(5214),c=e(6476),a=e(3018),s=e(8002),u=e(9765),g=e(1423),l=e(3388),d=e(7810),p=e(1562);const h=["productbtn"];function m(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"ion-buttons",10),a.TgZ(1,"ion-button",11),a.NdJ("click",function(){return a.CHM(t),a.oxw().checkout()}),a.TgZ(2,"ion-badge",12),a._uU(3),a.qZA(),a._uU(4,"Checkout"),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.xp6(3),a.Oqu(t.numbers)}}const b=function(){return{category:"Milktea"}},f=function(){return{category:"Fruit tea"}},C=function(){return{category:"Slushee"}};function Z(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"div",13,14),a.NdJ("mouseleave",function(){return a.CHM(t),a.oxw().dropdown=!1}),a.TgZ(2,"ion-item",15),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(3," All "),a.qZA(),a.TgZ(4,"ion-item",16),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(5," Milktea "),a.qZA(),a.TgZ(6,"ion-item",16),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(7," Fruit Tea "),a.qZA(),a.TgZ(8,"ion-item",16),a.NdJ("click",function(){return a.CHM(t),a.oxw().dropdown=!1}),a._uU(9," Slushee "),a.qZA(),a.qZA()}2&t&&(a.xp6(4),a.Q6J("queryParams",a.DdM(3,b)),a.xp6(2),a.Q6J("queryParams",a.DdM(4,f)),a.xp6(2),a.Q6J("queryParams",a.DdM(5,C)))}function _(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"ion-item",17),a.TgZ(1,"ion-thumbnail",1),a._UZ(2,"img",18),a.qZA(),a.TgZ(3,"ion-label",19),a.TgZ(4,"h2",19),a._uU(5),a.TgZ(6,"span",20),a._uU(7),a.qZA(),a.qZA(),a._UZ(8,"h3"),a.TgZ(9,"p",19),a._uU(10),a.qZA(),a.TgZ(11,"div",21),a.TgZ(12,"span",22),a.NdJ("click",function(){const n=a.CHM(t).$implicit;return a.oxw().Decrease(n)}),a._uU(13," - "),a.qZA(),a._uU(14),a.TgZ(15,"span",23),a.NdJ("click",function(){const n=a.CHM(t).$implicit;return a.oxw().Increase(n)}),a._uU(16," + "),a.qZA(),a.TgZ(17,"span",24),a.TgZ(18,"button",25),a.NdJ("click",function(){const n=a.CHM(t).$implicit;return a.oxw().AddtoCart(n)}),a._uU(19," Add"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=n.$implicit;a.xp6(2),a.s9C("src",t.ImageUrl,a.LSH),a.xp6(3),a.hij("",t.ProductName," "),a.xp6(2),a.hij("\u20b1 ",t.UnitPrice,""),a.xp6(3),a.hij(" ",t.Stock," remaining stock"),a.xp6(4),a.hij(" ",t.Quantity," ")}}const k=[{path:"",component:(()=>{class t{constructor(t,n,e,o,i,r,c,a,g,l){this.msg=t,this.alertCtrl=n,this.auth=e,this.afstore=o,this.afauth=i,this.locationStrategy=r,this.router=c,this.applicationRef=a,this.zone=g,this.actRoute=l,this.numbers=0,this.showLog=!1,this.productList=[],this.getCartDetails=[],this.cartItem=0,this.dropdown=!1,this.unsubscriber=new u.xQ,this.itemsCart=[],c.events.subscribe(()=>{g.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),this.afauth.authState.subscribe(t=>{t&&t.uid&&this.actRoute.queryParams.subscribe(t=>{this.productReference=null==t.category?o.collection("Products"):o.collection("Products",n=>n.where("Category","==",t.category)),this.sub=this.productReference.snapshotChanges().pipe((0,s.U)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.productList=t})})})}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})});var t=sessionStorage.getItem("cart");console.log(t)}loadCart(){if(null!=sessionStorage.getItem("cart")){var t=[];t.push(JSON.parse(sessionStorage.getItem("cart"))),this.numbers=t[0].length}else this.numbers=0}Increase(t){localStorage.removeItem("cart"),t.Quantity+=1,this.loadCart()}Decrease(t){1==t.Quantity?this.alertCtrl.create({message:"Quantity should not be zero",buttons:[{text:"Ok",role:"cancel"}]}).then(t=>{t.present(),this.loadCart()}):(t.Quantity-=1,this.loadCart())}AddtoCart(t){if(t.Quantity>t.Stock)this.alertCtrl.create({message:"The quantity order should not be greater than the stock available",buttons:[{text:"Ok",role:"cancel"}]}).then(n=>{n.present(),t.Quantity=1});else{if(null==sessionStorage.getItem("cart")){let n=[];n.push(t),sessionStorage.setItem("cart",JSON.stringify(n)),t.Quantity=1}else{var n=t.id;let e=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let o=0;o<this.itemsCart.length;o++)if(n==this.itemsCart[o].id){this.itemsCart[o].Quantity=t.Quantity,t.Quantity=1,e=o;break}-1==e?(this.itemsCart.push(t),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),t.Quantity=1):(sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),t.Quantity=1),this.cartItemFunc()}this.loadCart()}}cartItemFunc(){var t=JSON.parse(sessionStorage.getItem("cart"));this.cartItem=t.length,this.msg.cartSubject.next(this.cartItem)}checkout(){this.router.navigateByUrl("/checkout")}hideDropdown(t){const n=t.clientX,e=t.clientY,o=this.productbtn.nativeElement.getBoundingClientRect();(n<o.left+2||n>o.right-2||e<o.top+2)&&(this.dropdown=!1)}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(g.g),a.Y36(r.Br),a.Y36(l.u),a.Y36(d.ST),a.Y36(p.zQ),a.Y36(o.S$),a.Y36(c.F0),a.Y36(a.z2F),a.Y36(a.R0b),a.Y36(c.gz))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(t,n){if(1&t&&a.Gf(h,5,a.SBq),2&t){let t;a.iGM(t=a.CRH())&&(n.productbtn=t.first)}},inputs:{title:"title"},decls:17,vars:4,consts:[[1,"toolbar"],["slot","start"],["fill","clear","color","dark","routerDirection","root","routerLinkActive","active-item",1,"dropdown-btn",3,"mouseenter","mouseleave"],["productbtn",""],["slot","end",3,"name"],["slot","end",4,"ngIf"],["class","dropdown",3,"mouseleave",4,"ngIf"],[1,"container"],[1,"bg-transparent"],["class","item-background-color","color","none","lines","none",4,"ngFor","ngForOf"],["slot","end"],[3,"click"],["color","danger"],[1,"dropdown",3,"mouseleave"],["dropdownbox",""],["button","","routerLink","/tabs/tab1","routerDirection","root","lines","none",3,"click"],["button","","routerLink","/tabs/tab1","lines","none","routerDirection","root",3,"queryParams","click"],["color","none","lines","none",1,"item-background-color"],[3,"src"],[2,"font-weight","bolder"],[2,"float","right","font-weight","bolder"],["id","qty"],[1,"minus",3,"click"],[1,"plus",3,"click"],[2,"float","right"],["id","btn",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a.TgZ(3,"ion-button",2,3),a.NdJ("mouseenter",function(){return n.dropdown=!0})("mouseleave",function(t){return n.hideDropdown(t)}),a.TgZ(5,"ion-title"),a._uU(6,"Categories"),a.qZA(),a._UZ(7,"ion-icon",4),a.qZA(),a.qZA(),a.YNc(8,m,5,1,"ion-buttons",5),a.qZA(),a.YNc(9,Z,10,6,"div",6),a.qZA(),a.TgZ(10,"ion-content"),a.TgZ(11,"div",7),a.TgZ(12,"ion-grid"),a.TgZ(13,"ion-row"),a.TgZ(14,"ion-col"),a.TgZ(15,"ion-list",8),a.YNc(16,_,20,5,"ion-item",9),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(7),a.Q6J("name",n.dropdown?"chevron-down":"chevron-up"),a.xp6(1),a.Q6J("ngIf",0!=n.numbers),a.xp6(1),a.Q6J("ngIf",n.dropdown),a.xp6(7),a.Q6J("ngForOf",n.productList))},directives:[r.Gu,r.sr,r.Sm,r.YG,c.Od,r.wd,r.gu,o.O5,r.W2,r.jY,r.Nd,r.wI,r.q_,o.sg,r.yp,r.Ie,r.YI,c.rH,r.Bs,r.Q$],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background:#69a03a;color:#fff;font-size:20px;line-height:84px}.container[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.container[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{color:#ccc}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]{margin-top:5px}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{font-weight:600;padding:5px;margin-right:20px;cursor:pointer}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-left:20px;font-weight:600;padding:5px;cursor:pointer}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:active{background-color:#69a03a}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:active{background-color:red}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn[_ngcontent-%COMP%]{padding:10px 20px;color:#fff;background-color:#69a03a}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn[_ngcontent-%COMP%]:active{background-color:#051542}.container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:10px;color:#69a03a}.bg-transparent[_ngcontent-%COMP%]{background:#0000}ion-content[_ngcontent-%COMP%]{--background:url(backgroundimage.35be21de00795f69fb68.jpg) no-repeat center center/cover;background:linear-gradient(120deg,#2980b9,#8e44ad)}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[c.Bz.forChild(k)],c.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.ez,i.u5,r.Pc,M]]}),t})()}}]);