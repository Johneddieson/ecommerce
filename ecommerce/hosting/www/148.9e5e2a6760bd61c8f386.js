(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[148],{148:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AddProductPageModule:()=>k});var r=o(8583),n=o(665),i=o(5214),s=o(6476),a=o(6738),c=o(3018),l=o(1841),g=o(7810);function m(t,e){if(1&t&&c._UZ(0,"img",22),2&t){const t=c.oxw();c.s9C("src",t.photoLink,c.LSH)}}function u(t,e){1&t&&(c.TgZ(0,"ion-text",23),c._uU(1," Product Name shouldn't be empty "),c.qZA())}function d(t,e){if(1&t&&(c.TgZ(0,"ion-text",25),c._uU(1),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.registerForm.controls.firstname.errors.invalidMsg," ")}}function p(t,e){if(1&t&&(c.TgZ(0,"div",24),c.YNc(1,d,2,1,"ion-text",16),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.registerForm.controls.firstname.errors.invalidMsg)}}function h(t,e){1&t&&(c.TgZ(0,"ion-text",25),c._uU(1," Product Name must be minimum 5 characters long "),c.qZA())}function f(t,e){1&t&&(c.TgZ(0,"ion-text",25),c._uU(1," Stock of product shouldn't be empty "),c.qZA())}function Z(t,e){if(1&t&&(c.TgZ(0,"ion-text",25),c._uU(1),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.registerForm.controls.cellphonenumber.errors.invalidMsg," ")}}function b(t,e){if(1&t&&(c.TgZ(0,"div",24),c.YNc(1,Z,2,1,"ion-text",16),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.registerForm.controls.cellphonenumber.errors.invalidMsg)}}function w(t,e){1&t&&(c.TgZ(0,"ion-text",25),c._uU(1," Price of product shouldn't be empty "),c.qZA())}function x(t,e){if(1&t&&(c.TgZ(0,"ion-text",25),c._uU(1),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.registerForm.controls.password.errors.invalidMsg," ")}}function P(t,e){if(1&t&&(c.TgZ(0,"div",24),c.YNc(1,x,2,1,"ion-text",16),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.registerForm.controls.password.errors.invalidMsg)}}const v=[{path:"",component:(()=>{class t{constructor(t,e,o,r,n){this.http=t,this.formBuilder=e,this.loadingCtrl=o,this.alertCtrl=r,this.afstore=n,this.withPhoto=!1}ngOnInit(){this.photoLink="https://static.wikia.nocookie.net/otonari-no-tenshi/images/c/c9/No_images_available.jpg/revision/latest?cb=20220104141308",this.registerForm=new n.cw({category:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^([A-Z][a-z]*((\s[A-Za-z])?[a-z]*)*)$/,msg:"Always Starts With Capital Letter"}),this.customPatternValid({pattern:/^([^0-9]*)$/,msg:"Numbers is not allowed"}),n.kI.minLength(5)]),firstname:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^([A-Z][a-z]*((\s[A-Za-z])?[a-z]*)*)$/,msg:"Always Starts With Capital Letter"}),this.customPatternValid({pattern:/^([^0-9]*)$/,msg:"Numbers is not allowed"}),n.kI.minLength(5)]),cellphonenumber:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^[+-]?(?:\d*[1-9]\d*(?:\.\d+)?|0+\.\d*[1-9]\d*)$/,msg:"This format is not allowed"}),this.customPatternValid({pattern:/^([^.?!-]*)$/,msg:"Negative is not allowed"}),this.customPatternValid({pattern:/^([^.?!_]*)$/,msg:"Under Score is not allowed"}),this.customPatternValid({pattern:/^([^.?!=]*)$/,msg:"Equal is not allowed"}),this.customPatternValid({pattern:/^([^.?!+]*)$/,msg:"Plus is not allowed"}),this.customPatternValid({pattern:/^([^.?!.]*)$/,msg:"Period is not allowed"})]),password:new n.NI("",[n.kI.required,this.customPatternValid({pattern:/^[+-]?(?:\d*[1-9]\d*(?:\.\d+)?|0+\.\d*[1-9]\d*)$/,msg:"This format is not allowed"}),this.customPatternValid({pattern:/^([^-]*)$/,msg:"Negative is not allowed"}),this.customPatternValid({pattern:/^([^?!_]*)$/,msg:"Under Score is not allowed"}),this.customPatternValid({pattern:/^([^?!=]*)$/,msg:"Equal is not allowed"}),this.customPatternValid({pattern:/^([^?!+]*)$/,msg:"Plus is not allowed"})])})}customPatternValid(t){return console.log("wew",t),e=>e.value&&!e.value.match(t.pattern)?{invalidMsg:t.msg}:null}reset(){console.log("wew",this.myInputVariable.value),this.myInputVariable.value=""}fileChanged(t){const e=t.target.files;console.log("the files",e);const o=new FormData;o.append("file",e[0]),o.append("UPLOADCARE_PUB_KEY","2f6b781d802ebb97d2e3"),this.http.post("https://upload.uploadcare.com/base/",o).subscribe(t=>{var o={events:t};for(var r in o){console.log("wew",o[r].file);for(const t of e)this.photoLink=`https://ucarecdn.com/${o[r].file}/${t.name}`}this.withPhoto=!0})}submit(){0==this.withPhoto?this.alertCtrl.create({message:"Please Choose a Photo",buttons:[{text:"Ok",role:"cancel"}]}).then(t=>{t.present()}):this.loadingCtrl.create({message:"Creating New Product"}).then(t=>{t.present(),this.afstore.collection("Products").add({Category:this.registerForm.value.category,ProductName:this.registerForm.value.firstname,Stock:parseInt(this.registerForm.value.cellphonenumber),UnitPrice:this.registerForm.value.password,ImageUrl:this.photoLink,Quantity:1});var e=a(new Date).format("DD-MM-YYYY hh:mm A");this.afstore.collection("Inventory").add({Quantity:1*parseInt(this.registerForm.value.cellphonenumber),Datetime:e,read:!1,Destination:"Admin",ProductName:this.registerForm.value.firstname,UnitPrice:this.registerForm.value.password,ImageUrl:this.photoLink,DatetimeToSort:new Date}),setTimeout(()=>{t.dismiss(),this.registerForm.reset(),this.photoLink="https://static.wikia.nocookie.net/otonari-no-tenshi/images/c/c9/No_images_available.jpg/revision/latest?cb=20220104141308",this.alertCtrl.create({header:"Officially Created",message:"You created the product successfully",buttons:[{text:"Ok",role:"cancel"}]}).then(t=>{t.present(),this.withPhoto=!1,this.myInputVariable.value=""}).catch(t=>{})},3e3)}).catch(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.eN),c.Y36(n.qu),c.Y36(i.HT),c.Y36(i.Br),c.Y36(g.ST))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-add-product"]],viewQuery:function(t,e){if(1&t&&c.Gf(i.pK,5),2&t){let t;c.iGM(t=c.CRH())&&(e.myInputVariable=t.first)}},decls:39,vars:10,consts:[[1,"toolbar"],["slot","start"],[1,"ion-padding","ion-text-center"],["class","camera",3,"src",4,"ngIf"],[1,"form"],["type","file","accept","image/*",1,"uploadfile",3,"change"],["inputFile",""],["novalidate","",3,"formGroup","ngSubmit"],["lines","none"],["formControlName","category"],["value","Milktea"],["value","Fruit tea"],["value","Slushee"],["placeholder","Enter product name","formControlName","firstname"],["type","text","color","danger",4,"ngIf"],["class","error",4,"ngIf"],["color","danger",4,"ngIf"],["type","tel","placeholder","Enter Stock","formControlName","cellphonenumber"],["type","tel","placeholder","Enter Price","formControlName","password"],["type","submit","hidden",""],["btn",""],["color","tertiary","expand","block",3,"disabled","click"],[1,"camera",3,"src"],["type","text","color","danger"],[1,"error"],["color","danger"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-buttons",1),c._UZ(3,"ion-back-button"),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Add Product"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content",2),c.YNc(7,m,1,1,"img",3),c.TgZ(8,"div",4),c.TgZ(9,"ion-input",5,6),c.NdJ("change",function(t){return e.fileChanged(t)}),c.qZA(),c.TgZ(11,"form",7),c.NdJ("ngSubmit",function(){return e.submit()}),c.TgZ(12,"ion-item",8),c.TgZ(13,"ion-label"),c._uU(14,"Category"),c.qZA(),c.TgZ(15,"ion-select",9),c.TgZ(16,"ion-select-option",10),c._uU(17,"Milk Tea"),c.qZA(),c.TgZ(18,"ion-select-option",11),c._uU(19,"Fruit Tea"),c.qZA(),c.TgZ(20,"ion-select-option",12),c._uU(21,"Slushee"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"ion-item",8),c._UZ(23,"ion-input",13),c.qZA(),c.YNc(24,u,2,0,"ion-text",14),c.YNc(25,p,2,1,"div",15),c.YNc(26,h,2,0,"ion-text",16),c.TgZ(27,"ion-item",8),c._UZ(28,"ion-input",17),c.qZA(),c.YNc(29,f,2,0,"ion-text",16),c.YNc(30,b,2,1,"div",15),c.TgZ(31,"ion-item",8),c._UZ(32,"ion-input",18),c.qZA(),c.YNc(33,w,2,0,"ion-text",16),c.YNc(34,P,2,1,"div",15),c._UZ(35,"button",19,20),c.TgZ(37,"ion-button",21),c.NdJ("click",function(){return c.CHM(t),c.MAs(36).click()}),c._uU(38,"Create Product"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.xp6(7),c.Q6J("ngIf",""!=e.photoLink),c.xp6(4),c.Q6J("formGroup",e.registerForm),c.xp6(13),c.Q6J("ngIf",e.registerForm.get("firstname").hasError("required")&&e.registerForm.get("firstname").touched),c.xp6(1),c.Q6J("ngIf",!e.registerForm.controls.firstname.valid&&(e.registerForm.controls.firstname.dirty||e.registerForm.controls.firstname.touched)),c.xp6(1),c.Q6J("ngIf",e.registerForm.get("firstname").hasError("minlength")&&e.registerForm.get("firstname").touched),c.xp6(3),c.Q6J("ngIf",e.registerForm.get("cellphonenumber").hasError("required")&&e.registerForm.get("cellphonenumber").touched),c.xp6(1),c.Q6J("ngIf",!e.registerForm.controls.cellphonenumber.valid&&(e.registerForm.controls.cellphonenumber.dirty||e.registerForm.controls.cellphonenumber.touched)),c.xp6(3),c.Q6J("ngIf",e.registerForm.get("password").hasError("required")&&e.registerForm.get("password").touched),c.xp6(1),c.Q6J("ngIf",!e.registerForm.controls.password.valid&&(e.registerForm.controls.password.dirty||e.registerForm.controls.password.touched)),c.xp6(3),c.Q6J("disabled",e.registerForm.invalid))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,r.O5,i.pK,i.j9,n._Y,n.JL,n.sg,i.Ie,i.Q$,i.t9,i.QI,n.JJ,n.u,i.n0,i.YG,i.yW],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background:#69a03a;color:#fff;font-size:20px;line-height:84px}.camera[_ngcontent-%COMP%]{width:200px;height:128px;margin:0 auto}.logo[_ngcontent-%COMP%]{margin-top:6%}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{margin-top:-20px}.form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:5px;border:2px solid grey;margin-bottom:10px}ion-button[_ngcontent-%COMP%]{text-transform:none}ion-content[_ngcontent-%COMP%]{--background:url(backgroundimage3.5f20fa4f128f1fd27053.jpg) no-repeat center center/cover;background:linear-gradient(120deg,#2980b9,#8e44ad)}ion-back-button[_ngcontent-%COMP%]{display:block}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.Bz.forChild(v)],s.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.ez,n.u5,i.Pc,A,n.UX]]}),t})()}}]);