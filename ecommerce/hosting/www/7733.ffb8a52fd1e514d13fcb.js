(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[7733],{6175:(t,e,a)=>{"use strict";a.d(e,{q:()=>c});var i=a(8583),o=a(5214),n=a(6476),s=a(8067),r=a(3018);let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ez,o.Pc,n.Bz,s.CategoryPageModule]]}),t})()},7733:(t,e,a)=>{"use strict";a.r(e),a.d(e,{TabsPageModule:()=>f});var i=a(5214),o=a(8583),n=a(665),s=a(6476),r=a(8002),c=a(6738),u=a(3018),l=a(7810),d=a(1562),h=a(3388);function b(t,e){if(1&t&&(u.TgZ(0,"ion-badge",10),u._uU(1),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Oqu(t.notifCounts)}}const g=[{path:"",component:(()=>{class t{constructor(t,e,a,i,o,n,s,u,l){this.router=t,this.afstore=e,this.afauth=a,this.loadingCtrl=i,this.locationStrategy=o,this.auth=n,this.alertCtrl=s,this.applicationRef=u,this.zone=l,this.notificationsList=[],this.notifCounts=0,this.myid="",this.afauth.authState.subscribe(e=>{e&&e.uid&&(this.myid=e.uid,this.meReference=this.afstore.doc(`users/${e.uid}`),t.navigateByUrl("admin"==e.displayName?"adminpage":"tabs"),this.notificationsReference=this.afstore.collection(`users/${e.uid}/notifications`),this.sub=this.notificationsReference.snapshotChanges().pipe((0,r.U)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{t=(t=t.map((t,e)=>Object.assign({id:t.id,Datetime:t.Datetime,DatetimeToSort:c(t.Datetime).toDate(),read:t.read,remarks:t.remarks,Message:t.Message}))).sort((t,e)=>Number(e.DatetimeToSort)-Number(t.DatetimeToSort)),this.notificationsList=t;var e=t.filter(t=>1!=t.read);this.notifCounts=e.length}))})}ngOnInit(){}logout(){this.alertCtrl.create({message:"Are you sure want to logout?",buttons:[{text:"Yes",handler:()=>{this.auth.SignOut(),this.meReference.update({Address1:"",Address2:""})}},{text:"No",role:"cancel"}]}).then(t=>{t.present()})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.F0),u.Y36(l.ST),u.Y36(d.zQ),u.Y36(i.HT),u.Y36(o.S$),u.Y36(h.u),u.Y36(i.Br),u.Y36(u.z2F),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-tabs"]],decls:19,vars:1,consts:[["slot","bottom","color","light"],["tab","tab1"],["name","cart"],["tab","tab3/edit"],["name","create-outline"],["tab","tab2"],["name","notifications"],["color","danger",4,"ngIf"],[3,"click"],["name","log-out-outline"],["color","danger"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-tabs"),u.TgZ(1,"ion-tab-bar",0),u.TgZ(2,"ion-tab-button",1),u._UZ(3,"ion-icon",2),u.TgZ(4,"ion-label"),u._uU(5,"Buy Product"),u.qZA(),u.qZA(),u.TgZ(6,"ion-tab-button",3),u._UZ(7,"ion-icon",4),u.TgZ(8,"ion-label"),u._uU(9,"Edit Information"),u.qZA(),u.qZA(),u.TgZ(10,"ion-tab-button",5),u._UZ(11,"ion-icon",6),u.YNc(12,b,2,1,"ion-badge",7),u.TgZ(13,"ion-label"),u._uU(14,"Notifications"),u.qZA(),u.qZA(),u.TgZ(15,"ion-tab-button",8),u.NdJ("click",function(){return e.logout()}),u._UZ(16,"ion-icon",9),u.TgZ(17,"ion-label"),u._uU(18,"Log out"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(12),u.Q6J("ngIf",0!=e.notifCounts))},directives:[i.UN,i.yq,i.ZU,i.gu,i.Q$,o.O5,i.yp],styles:[""]}),t})(),children:[{path:"product",loadChildren:()=>a.e(7333).then(a.bind(a,7333)).then(t=>t.MenuPageModule)},{path:"tab1",loadChildren:()=>Promise.all([a.e(8592),a.e(3952)]).then(a.bind(a,3952)).then(t=>t.HomePageModule)},{path:"tab2",loadChildren:()=>Promise.all([a.e(8592),a.e(8381)]).then(a.bind(a,8381)).then(t=>t.Tab2PageModule)},{path:"tab3/:name",loadChildren:()=>Promise.all([a.e(8592),a.e(3831)]).then(a.bind(a,3831)).then(t=>t.Tab3PageModule)},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/product",pathMatch:"full"}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[s.Bz.forChild(g)]]}),t})();var p=a(6175);let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[i.Pc,o.ez,n.u5,m,p.q]]}),t})()}}]);