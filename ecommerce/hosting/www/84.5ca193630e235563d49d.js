(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[84],{84:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CustomerfeedbackPageModule:()=>m});var o=n(8583),a=n(665),i=n(5214),r=n(6476),c=n(4762),s=n(8002),l=n(3018),d=n(7810),u=n(1562);function g(t,e){if(1&t&&(l.TgZ(0,"ion-card-subtitle",10),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.AsE(" ",t.Quantity," ",t.ProductName," ")}}function f(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-button",17),l.NdJ("click",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw().markAsRead(e)}),l.TgZ(1,"p"),l._uU(2,"Mark as read"),l.qZA(),l.qZA()}}function p(t,e){if(1&t&&(l.TgZ(0,"ion-card",8),l.TgZ(1,"ion-card-header",9),l.TgZ(2,"ion-card-subtitle",10),l._uU(3),l.qZA(),l.YNc(4,g,2,2,"ion-card-subtitle",11),l._UZ(5,"br"),l.TgZ(6,"ion-item",12),l.TgZ(7,"ion-label",13),l._uU(8),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"ion-card-content",14),l.TgZ(10,"ion-label",15),l._uU(11),l.qZA(),l.qZA(),l.TgZ(12,"ion-row"),l.YNc(13,f,3,0,"ion-button",16),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(3),l.hij(" Email: ",t.Email," "),l.xp6(1),l.Q6J("ngForOf",t.Orders),l.xp6(4),l.hij(" ",t.Message[0]," "),l.xp6(3),l.hij("Due ",t.DateTime,""),l.xp6(2),l.Q6J("ngIf",!t.Read)}}const b=[{path:"",component:(()=>{class t{constructor(t,e,n,o,a){this.afstore=t,this.afauth=e,this.router=n,this.currencyPipe=o,this.alertCtrl=a,this.feedbackLength=0,this.feedBacksData=[],this.afauth.authState.subscribe(t=>{t&&t.uid&&(this.feedBackCollection=this.afstore.collection("FeedBacks"),this.sub=this.feedBackCollection.snapshotChanges().pipe((0,s.U)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{t=t.sort((t,e)=>Number(e.DateTimeToSort)-Number(t.DateTimeToSort)),this.feedBacksData=t}))})}ngOnInit(){}addproduct(){this.alertCtrl.create({header:"Choose",inputs:[{type:"radio",label:"POS",value:"POS"},{type:"radio",label:"View Products",value:"View Products"},{type:"radio",label:"Add Product",value:"Add Product"},{type:"radio",label:"Inventory",value:"Inventory"}],buttons:[{text:"Go",handler:t=>{console.log("data",t),"View Products"==t?this.router.navigateByUrl("/viewproducts"):"Add Product"==t?this.router.navigateByUrl("/add-product"):"POS"==t?this.router.navigateByUrl("/createpos"):"Inventory"==t&&this.router.navigateByUrl("/inventory")}},{text:"Cancel",role:"cancel"}]}).then(t=>{t.present()})}markAsRead(t){return(0,c.mG)(this,void 0,void 0,function*(){yield this.afstore.doc(`FeedBacks/${t.id}`).update({Read:!0})})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.ST),l.Y36(u.zQ),l.Y36(r.F0),l.Y36(o.H9),l.Y36(i.Br))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-customerfeedback"]],decls:11,vars:2,consts:[[1,"toolbar"],["slot","end"],[1,"addproduct",3,"click"],["size","large","name","settings"],["hidden","",1,"addproduct"],["size","large","name","text-outline"],[3,"fullscreen"],["class","ion-margin",4,"ngFor","ngForOf"],[1,"ion-margin"],[1,"ion-header"],[1,"ion-subtitle",2,"font-weight","900","color","black"],["class","ion-subtitle","style","font-weight: 900;  color: black;",4,"ngFor","ngForOf"],["color","none","lines","none"],["text-wrap","",1,"label",2,"font-weight","900","color","black"],[2,"font-weight","bolder"],[2,"font-weight","bolder","color","black"],["button","","color","danger",3,"click",4,"ngIf"],["button","","color","danger",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-buttons",1),l.TgZ(3,"ion-button",2),l.NdJ("click",function(){return e.addproduct()}),l._UZ(4,"ion-icon",3),l.qZA(),l.TgZ(5,"ion-button",4),l._UZ(6,"ion-icon",5),l.qZA(),l.qZA(),l.TgZ(7,"ion-title"),l._uU(8,"Customer Feedback"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"ion-content",6),l.YNc(10,p,14,5,"ion-card",7),l.qZA()),2&t&&(l.xp6(9),l.Q6J("fullscreen",!0),l.xp6(1),l.Q6J("ngForOf",e.feedBacksData))},directives:[i.Gu,i.sr,i.Sm,i.YG,i.gu,i.wd,i.W2,o.sg,i.PM,i.Zi,i.tO,i.Ie,i.Q$,i.FN,i.Nd,o.O5],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background:#69a03a;color:#fff;font-size:20px;line-height:84px}.addproduct[_ngcontent-%COMP%]{cursor:pointer}.addproduct[_ngcontent-%COMP%]:active{color:red}.labeldate[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:900}.labelname[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-weight:900;font-size:18px;color:#2f0101}.totalamount[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-weight:bolder}ion-content[_ngcontent-%COMP%]{background:linear-gradient(120deg,#2980b9,#8e44ad);--background:url(backgroundimage3.5f20fa4f128f1fd27053.jpg) no-repeat center center/cover}.ion-header[_ngcontent-%COMP%], .ion-margin[_ngcontent-%COMP%], .ion-subtitle[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{background-color:initial}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.ez,a.u5,i.Pc,h]]}),t})()}}]);