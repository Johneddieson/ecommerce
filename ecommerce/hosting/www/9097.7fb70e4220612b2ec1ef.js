(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[9097],{9097:(t,e,n)=>{"use strict";n.r(e),n.d(e,{LoginPageModule:()=>b});var i=n(8583),s=n(665),o=n(5214),a=n(6476),r=n(9765),c=n(3018),u=n(3388),l=n(7810),d=n(1562);function g(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-button",10),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),n=c.MAs(8),i=c.MAs(13);return e.LogIn(n,i)}),c._uU(1,"Sign In"),c.qZA()}}function h(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-button",10),c.NdJ("click",function(){return c.CHM(t),c.oxw().navigateadmin()}),c._uU(1,"Continue as Admin"),c.qZA()}}function p(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-button",10),c.NdJ("click",function(){return c.CHM(t),c.oxw().navigatecustomer()}),c._uU(1,"Continue as Cutomer"),c.qZA()}}function m(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-button",11),c.NdJ("click",function(){return c.CHM(t),c.oxw().ResetPassword()}),c._uU(1,"Reset Password"),c.qZA()}}function f(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-footer"),c.TgZ(1,"div",12),c.NdJ("click",function(){return c.CHM(t),c.oxw().gotosignup()}),c._uU(2,"\nCreate an Account Instead "),c.qZA(),c.qZA()}}const C=[{path:"",component:(()=>{class t{constructor(t,e,n,i,s,o,a,c,u){this.navCtrl=t,this.auth=e,this.afstore=n,this.afauth=i,this.loadingCtrl=s,this.alertCtrl=o,this.router=a,this.applicationRef=c,this.zone=u,this.unsubscriber=new r.xQ,this.ishide=!1,this.isthisadmin=!1}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick();var t=JSON.parse(sessionStorage.getItem("user"));null!=t?(this.ishide=!0,"customer"==t.displayName?(this.continueAsCustomer=`CONTINUE AS ${t.displayName.toUpperCase()}`,this.isthisadmin=!1):(this.continueAsCustomer=`CONTINUE AS ${t.displayName.toUpperCase()}`,this.isthisadmin=!0)):this.ishide=!1},0)})})}ResetPassword(){this.alertCtrl.create({header:"Reset Password",inputs:[{name:"Email",placeholder:"Please type your email",type:"email"}],buttons:[{text:"Ok",handler:t=>{console.log("hahaha",t),this.auth.ForgotPassword(t.Email).then(t=>{this.alertCtrl.create({header:"Success",message:"The reset password code has been sent to your email"}).then(t=>{t.present()})}).catch(t=>{this.alertCtrl.create({header:"Error",message:"Email not found"}).then(t=>{t.present()})})}}]}).then(t=>{t.present()})}LogIn(t,e){this.auth.SignIn(t.value,e.value).then(t=>{this.router.navigateByUrl("admin"==t.user.displayName?"adminpage":"tabs"),sessionStorage.setItem("user",JSON.stringify(t.user)),this.Email1="",this.Password1=""}).catch(t=>{this.alertCtrl.create({message:t.message}).then(t=>{t.present()})})}navigateadmin(){this.router.navigateByUrl("adminpage")}navigatecustomer(){this.router.navigateByUrl("tabs")}gotosignup(){this.navCtrl.navigateForward("signup")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.SH),c.Y36(u.u),c.Y36(l.ST),c.Y36(d.zQ),c.Y36(o.HT),c.Y36(o.Br),c.Y36(a.F0),c.Y36(c.z2F),c.Y36(c.R0b))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:9,consts:[[1,"wrapper"],["lines","none"],["position","floating"],["type","text","placeholder","Email",3,"disabled","ngModel","ngModelChange"],["email",""],["type","password","placeholder","password",3,"disabled","ngModel","ngModelChange"],["password",""],[3,"click",4,"ngIf"],["color","warning",3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["color","warning",3,"click"],["id","clickable",1,"text",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"ion-content"),c.TgZ(1,"div",0),c.TgZ(2,"h3"),c._uU(3,"Sign In"),c.qZA(),c.TgZ(4,"ion-item",1),c.TgZ(5,"ion-label",2),c._uU(6,"Email"),c.qZA(),c.TgZ(7,"ion-input",3,4),c.NdJ("ngModelChange",function(t){return e.Email1=t}),c.qZA(),c.qZA(),c.TgZ(9,"ion-item",1),c.TgZ(10,"ion-label",2),c._uU(11,"Password"),c.qZA(),c.TgZ(12,"ion-input",5,6),c.NdJ("ngModelChange",function(t){return e.Password1=t}),c.qZA(),c.qZA(),c.YNc(14,g,2,0,"ion-button",7),c.YNc(15,h,2,0,"ion-button",7),c.YNc(16,p,2,0,"ion-button",7),c.YNc(17,m,2,0,"ion-button",8),c.qZA(),c.qZA(),c.YNc(18,f,3,0,"ion-footer",9)),2&t&&(c.xp6(7),c.Q6J("disabled",e.ishide)("ngModel",e.Email1),c.xp6(5),c.Q6J("disabled",e.ishide)("ngModel",e.Password1),c.xp6(2),c.Q6J("ngIf",!e.ishide),c.xp6(1),c.Q6J("ngIf",e.ishide&&e.isthisadmin),c.xp6(1),c.Q6J("ngIf",e.ishide&&!e.isthisadmin),c.xp6(1),c.Q6J("ngIf",!e.ishide),c.xp6(1),c.Q6J("ngIf",!e.ishide))},directives:[o.W2,o.Ie,o.Q$,o.pK,o.j9,s.JJ,s.On,i.O5,o.YG,o.fr],styles:[".wrapper[_ngcontent-%COMP%]{width:90%;margin:10% auto}ion-item[_ngcontent-%COMP%]{margin:10% auto 3%;--background:#cac6c6;border-radius:10px}ion-footer[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:center;font-weight:600}#clickable[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.Bz.forChild(C)],a.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,s.u5,o.Pc,w]]}),t})()}}]);