(self.webpackChunkcom_trackingsystem=self.webpackChunkcom_trackingsystem||[]).push([[3952],{3952:(t,n,e)=>{"use strict";e.r(n),e.d(n,{HomePageModule:()=>q});var o=e(8583),i=e(665),r=e(5214),c=e(6476),s=e(3018),a=e(8002),u=e(9765),g=e(1423),l=e(3388),d=e(7810),p=e(1562);const h=["productbtn"];function m(t,n){if(1&t){const t=s.EpF();s.TgZ(0,"ion-buttons",9),s.TgZ(1,"ion-button",10),s.NdJ("click",function(){return s.CHM(t),s.oxw().checkout()}),s.TgZ(2,"ion-badge",11),s._uU(3),s.qZA(),s._uU(4,"Checkout"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(3),s.Oqu(t.numbers)}}const f=function(){return{category:"Milktea"}},C=function(){return{category:"Fruit tea"}},b=function(){return{category:"Slushee"}};function Z(t,n){if(1&t){const t=s.EpF();s.TgZ(0,"div",12,13),s.NdJ("mouseleave",function(){return s.CHM(t),s.oxw().dropdown=!1}),s.TgZ(2,"ion-item",14),s.NdJ("click",function(){return s.CHM(t),s.oxw().dropdown=!1}),s._uU(3," All "),s.qZA(),s.TgZ(4,"ion-item",15),s.NdJ("click",function(){return s.CHM(t),s.oxw().dropdown=!1}),s._uU(5," Milktea "),s.qZA(),s.TgZ(6,"ion-item",15),s.NdJ("click",function(){return s.CHM(t),s.oxw().dropdown=!1}),s._uU(7," Fruit Tea "),s.qZA(),s.TgZ(8,"ion-item",15),s.NdJ("click",function(){return s.CHM(t),s.oxw().dropdown=!1}),s._uU(9," Slushee "),s.qZA(),s.qZA()}2&t&&(s.xp6(4),s.Q6J("queryParams",s.DdM(3,f)),s.xp6(2),s.Q6J("queryParams",s.DdM(4,C)),s.xp6(2),s.Q6J("queryParams",s.DdM(5,b)))}function _(t,n){if(1&t){const t=s.EpF();s.TgZ(0,"ion-item"),s.TgZ(1,"ion-thumbnail",1),s._UZ(2,"img",16),s.qZA(),s.TgZ(3,"ion-label"),s.TgZ(4,"h2"),s._uU(5),s.TgZ(6,"span",17),s._uU(7),s.qZA(),s.qZA(),s._UZ(8,"h3"),s.TgZ(9,"p",18),s._uU(10),s.qZA(),s.TgZ(11,"div",19),s.TgZ(12,"span",20),s.NdJ("click",function(){const n=s.CHM(t).$implicit;return s.oxw().Decrease(n)}),s._uU(13," - "),s.qZA(),s._uU(14),s.TgZ(15,"span",21),s.NdJ("click",function(){const n=s.CHM(t).$implicit;return s.oxw().Increase(n)}),s._uU(16," + "),s.qZA(),s.TgZ(17,"span",22),s.TgZ(18,"button",23),s.NdJ("click",function(){const n=s.CHM(t).$implicit;return s.oxw().AddtoCart(n)}),s._uU(19," Add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=n.$implicit;s.xp6(2),s.s9C("src",t.ImageUrl,s.LSH),s.xp6(3),s.hij("",t.ProductName," "),s.xp6(2),s.hij("\u20b1 ",t.UnitPrice,""),s.xp6(3),s.hij(" ",t.Stock," remaining stock"),s.xp6(4),s.hij(" ",t.Quantity," ")}}const y=[{path:"",component:(()=>{class t{constructor(t,n,e,o,i,r,c,s,g,l){this.msg=t,this.alertCtrl=n,this.auth=e,this.afstore=o,this.afauth=i,this.locationStrategy=r,this.router=c,this.applicationRef=s,this.zone=g,this.actRoute=l,this.numbers=0,this.showLog=!1,this.productList=[],this.getCartDetails=[],this.cartItem=0,this.dropdown=!1,this.unsubscriber=new u.xQ,this.itemsCart=[],c.events.subscribe(()=>{g.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})}),this.afauth.authState.subscribe(t=>{t&&t.uid&&this.actRoute.queryParams.subscribe(t=>{this.productReference=null==t.category?o.collection("Products"):o.collection("Products",n=>n.where("Category","==",t.category)),this.sub=this.productReference.snapshotChanges().pipe((0,a.U)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.productList=t})})})}ngOnInit(){this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick(),this.loadCart()},0)})});var t=sessionStorage.getItem("cart");console.log(t)}loadCart(){if(null!=sessionStorage.getItem("cart")){var t=[];t.push(JSON.parse(sessionStorage.getItem("cart"))),this.numbers=t[0].length}else this.numbers=0}Increase(t){localStorage.removeItem("cart"),t.Quantity+=1,this.loadCart()}Decrease(t){1==t.Quantity?this.alertCtrl.create({message:"Quantity should not be zero",buttons:[{text:"Ok",role:"cancel"}]}).then(t=>{t.present(),this.loadCart()}):(t.Quantity-=1,this.loadCart())}AddtoCart(t){if(t.Quantity>t.Stock)this.alertCtrl.create({message:"The quantity order should not be greater than the stock available",buttons:[{text:"Ok",role:"cancel"}]}).then(n=>{n.present(),t.Quantity=1});else{if(null==sessionStorage.getItem("cart")){let n=[];n.push(t),sessionStorage.setItem("cart",JSON.stringify(n)),t.Quantity=1}else{var n=t.id;let e=-1;this.itemsCart=JSON.parse(sessionStorage.getItem("cart"));for(let o=0;o<this.itemsCart.length;o++)if(n==this.itemsCart[o].id){this.itemsCart[o].Quantity=t.Quantity,t.Quantity=1,e=o;break}-1==e?(this.itemsCart.push(t),sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),t.Quantity=1):(sessionStorage.setItem("cart",JSON.stringify(this.itemsCart)),t.Quantity=1),this.cartItemFunc()}this.loadCart()}}cartItemFunc(){var t=JSON.parse(sessionStorage.getItem("cart"));this.cartItem=t.length,this.msg.cartSubject.next(this.cartItem)}checkout(){this.router.navigateByUrl("/checkout")}hideDropdown(t){const n=t.clientX,e=t.clientY,o=this.productbtn.nativeElement.getBoundingClientRect();(n<o.left+2||n>o.right-2||e<o.top+2)&&(this.dropdown=!1)}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(g.g),s.Y36(r.Br),s.Y36(l.u),s.Y36(d.ST),s.Y36(p.zQ),s.Y36(o.S$),s.Y36(c.F0),s.Y36(s.z2F),s.Y36(s.R0b),s.Y36(c.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(t,n){if(1&t&&s.Gf(h,5,s.SBq),2&t){let t;s.iGM(t=s.CRH())&&(n.productbtn=t.first)}},inputs:{title:"title"},decls:17,vars:4,consts:[[1,"toolbar"],["slot","start"],["fill","clear","color","dark","routerDirection","root","routerLinkActive","active-item",1,"dropdown-btn",3,"mouseenter","mouseleave"],["productbtn",""],["slot","end",3,"name"],["slot","end",4,"ngIf"],["class","dropdown",3,"mouseleave",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],["slot","end"],[3,"click"],["color","danger"],[1,"dropdown",3,"mouseleave"],["dropdownbox",""],["button","","routerLink","/tabs/tab1","routerDirection","root","lines","none",3,"click"],["button","","routerLink","/tabs/tab1","lines","none","routerDirection","root",3,"queryParams","click"],[3,"src"],[2,"float","right","color","#69a03a"],[1,"rate"],["id","qty"],[1,"minus",3,"click"],[1,"plus",3,"click"],[2,"float","right"],["id","btn",3,"click"]],template:function(t,n){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-buttons",1),s.TgZ(3,"ion-button",2,3),s.NdJ("mouseenter",function(){return n.dropdown=!0})("mouseleave",function(t){return n.hideDropdown(t)}),s.TgZ(5,"ion-title"),s._uU(6,"Categories"),s.qZA(),s._UZ(7,"ion-icon",4),s.qZA(),s.qZA(),s.YNc(8,m,5,1,"ion-buttons",5),s.qZA(),s.YNc(9,Z,10,6,"div",6),s.qZA(),s.TgZ(10,"ion-content"),s.TgZ(11,"div",7),s.TgZ(12,"ion-grid"),s.TgZ(13,"ion-row"),s.TgZ(14,"ion-col"),s.TgZ(15,"ion-list"),s.YNc(16,_,20,5,"ion-item",8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(7),s.Q6J("name",n.dropdown?"chevron-down":"chevron-up"),s.xp6(1),s.Q6J("ngIf",0!=n.numbers),s.xp6(1),s.Q6J("ngIf",n.dropdown),s.xp6(7),s.Q6J("ngForOf",n.productList))},directives:[r.Gu,r.sr,r.Sm,r.YG,c.Od,r.wd,r.gu,o.O5,r.W2,r.jY,r.Nd,r.wI,r.q_,o.sg,r.yp,r.Ie,r.YI,c.rH,r.Bs,r.Q$],styles:[".toolbar[_ngcontent-%COMP%]{height:84px;--background:#69a03a;color:#fff;font-size:20px;line-height:84px}.container[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.container[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{color:#ccc}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]{margin-top:5px}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{font-weight:600;padding:5px;margin-right:20px;cursor:pointer}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-left:20px;font-weight:600;padding:5px;cursor:pointer}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:active{background-color:#69a03a}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:active{background-color:red}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn[_ngcontent-%COMP%]{padding:10px 20px;color:#fff;background-color:#69a03a}.container[_ngcontent-%COMP%]   #qty[_ngcontent-%COMP%]   #btn[_ngcontent-%COMP%]:active{background-color:#051542}.container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:10px;color:#69a03a}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[c.Bz.forChild(y)],c.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,i.u5,r.Pc,M]]}),t})()}}]);