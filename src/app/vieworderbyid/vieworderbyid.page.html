<ion-header>
  <!-- <ion-toolbar>
    <ion-title>Full name: Eddieson Vergara</ion-title>
    <ion-title>Number: 09654717066</ion-title>
    <ion-title>Address: Bayberry Street Greenwoods Executive Village</ion-title>
  </ion-toolbar> -->
  <ion-toolbar>
    <ion-title>{{datetime}}</ion-title>
    <ion-buttons slot="end">
      
      <ion-button *ngIf="status == 'Open'" color="success" (click)="approveOrder()">
        <ion-icon
          name="shield-checkmark-outline" slot="icon-only">
        </ion-icon>
        </ion-button>

      <ion-button *ngIf="status == 'Open'" color="danger" (click)="cancelOrder()">
        <ion-icon
          name="close-outline" slot="icon-only">
        </ion-icon>
      </ion-button>
        
      <ion-button *ngIf="status == 'Approved'" color="primary">
        <ion-icon
          name="bicycle-outline" slot="icon-only">
        </ion-icon>
        </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-modal  mode="sm" [backdropDismiss]="false"
  class="example-modal">
    <ng-template>
      <ion-content color="light">
        <h1 style="margin: 10px 15px 10px 15px; font-weight: bolder;">Item : {{specificProduct}}</h1>
        <h5 style="margin: 10px 15px 10px 15px;">Note : {{note}}</h5>
        <ion-item *ngFor="let mat of dataMaterials">
          <!-- <h1>mat.ProductName</h1> -->
          <ion-label text-wrap>{{mat.itemName}} :</ion-label>
          <ion-input value="{{mat.Quantity}}"
          placeholder="Enter Quantity" type="number"
          (ionChange)="editMaterialQuantity($event, mat)"></ion-input>
      </ion-item>
        <ion-item lines="none">
         <ion-buttons slot="end">
          <!-- <ion-button color="danger" (click)="close()">Close</ion-button> -->
          <ion-button [disabled]="disabledSaveChanges" color="success" (click)="saveQuantityChanged()">Save Changes</ion-button>
         </ion-buttons>
        </ion-item> 
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-grid>
    <ion-row>
      <ion-col size-md="6" offset-md="3">
        <ion-card>
          <ion-card-content>
            <form>
              <ion-item lines="none">
                <ion-label text-wrap>Fullname : {{fullname}}</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-label text-wrap>Number : {{phonenumber}}</ion-label>
              </ion-item>
              <ion-item lines="none">
                <ion-label text-wrap>Email : {{email}}</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-label text-wrap>Address : {{address}}</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-label text-wrap>Payment : {{payment}}</ion-label>
              </ion-item>
              
              <ion-item lines="none">
                <ion-label text-wrap>Note : {{note}}</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-label text-wrap>Total : {{totalamount | currency: '₱'}}</ion-label>
              </ion-item>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-list>
    <ion-item class="item" *ngFor="let item of orderdetails" style="cursor: pointer;"
    (click)="getMaterialOfProducts(item.Materials, item.ProductName)">
      <ion-thumbnail slot="start">
        <img [src]="item.ImageUrl" [class.responsive-img]="true">
      </ion-thumbnail>
      <ion-label>
        <h2 style="font-weight: 700;">{{item.ProductName}} ({{item.Quantity}})</h2>
        <p>{{item.UnitPrice | currency: '₱'}}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
